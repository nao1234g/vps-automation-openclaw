# ============================================
# OpenClaw VPS + Docker環境変数設定
# ============================================
#
# セキュリティ注意事項:
# 1. このファイルをコピーして .env を作成
# 2. .env のパーミッションを 600 に設定: chmod 600 .env
# 3. .env は絶対にgitにコミットしない（.gitignoreに追加済み）
# 4. パスワードは必ず変更すること
# 5. 本番環境では強力なパスワードを使用（20文字以上推奨）
#
# パスワード生成例:
#   openssl rand -base64 32
#   pwgen -s 32 1
# ============================================

# --- Database Configuration ---
# データベース接続情報
# 注意: 強力なパスワードに変更してください
DB_NAME=openclaw
DB_USER=openclaw
DB_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD_32CHARS_MIN

# PostgreSQL設定（docker-compose用）
POSTGRES_USER=${DB_USER}
POSTGRES_PASSWORD=${DB_PASSWORD}
POSTGRES_DB=${DB_NAME}

# データベースホスト（Dockerネットワーク内）
DB_HOST=db
DB_PORT=5432

# --- LLM Provider Settings ---
# === Multi-Agent AI Orchestra ===
# Anthropic Claude API (Jarvis CSO, Alice Researcher, Guard Security)
# - Opus 4: 最高性能（$15/1M tokens）戦略・判断用
# - Sonnet 4: バランス型（$3/1M tokens）文章作成
# - Haiku 4: 高速・安価（$0.25/1M tokens）リサーチ・監視
ANTHROPIC_API_KEY=sk-ant-CHANGE_ME

# OpenAI API (CodeX Developer)
# - GPT-4o: コーディング特化（$2.5-5/1M tokens）
# - o1/o3: 推論強化（高コスト・特殊用途）
OPENAI_API_KEY=sk-proj-CHANGE_ME

# Google Gemini API (Pixel Designer, Scout Data)
# - Gemini 1.5 Pro: 視覚処理・マルチモーダル
# - Gemini 2.0 Flash: 超高速・軽量（$0.075/1M tokens）
GOOGLE_AI_API_KEY=CHANGE_ME

# ZhipuAI GLM-4 (コスパ重視の場合・オプション)
ZHIPUAI_API_KEY=CHANGE_ME

# Perplexity API (リサーチ強化・オプション)
# Alice Researcherの代替として使用可能
PERPLEXITY_API_KEY=CHANGE_ME

# === MCP (Model Context Protocol) Server Settings ===
# Firecrawl API (Webスクレイピング・Alice用)
# 取得: https://www.firecrawl.dev/
FIRECRAWL_API_KEY=fc-CHANGE_ME

# GitHub Token (CodeX用リポジトリ操作)
# Personal Access Token推奨（repo, workflow権限）
GITHUB_TOKEN=ghp_CHANGE_ME

# デフォルトのLLMプロバイダー
MODEL_PROVIDER=anthropic
MODEL_NAME=claude-sonnet-4

# --- Multi-Agent Configuration ---
# マルチエージェント機能を有効化
ENABLE_MULTI_AGENT=true

# オーケストレーションモード
# - hierarchical: Jarvisがコーディネート（推奨）
# - autonomous: 各エージェントが自律判断
# - manual: ユーザーが手動で指定
ORCHESTRATION_MODE=hierarchical

# コスト最適化を有効化（安いエージェントを優先）
ENABLE_COST_OPTIMIZATION=true

# タスク自動ルーティング
ENABLE_AUTO_ROUTING=true

# --- OpenClaw Gateway Settings ---
# Gateway認証トークン（本番環境では強力なトークンに変更）
# 生成例: openssl rand -hex 32
OPENCLAW_GATEWAY_TOKEN=CHANGE_ME_TO_RANDOM_TOKEN

# ペアリング設定（ブラウザからControl UI接続時）
# true: ペアリング不要（パスワード認証のみ）
# false: ペアリング必須（セキュリティ強化）
OPENCLAW_DISABLE_PAIRING=true

# --- Telegram Bot Settings ---
# Telegram Bot Token (BotFatherから取得)
TELEGRAM_BOT_TOKEN=0000000000:CHANGE_ME_TO_YOUR_BOT_TOKEN

# Telegram Chat ID
TELEGRAM_CHAT_ID=000000000

# --- xAI (Grok) API Settings ---
# xAI API Key (https://console.x.ai/ から取得、Hawk エージェント用)
XAI_API_KEY=CHANGE_ME_TO_YOUR_XAI_API_KEY

# --- N8N Workflow Automation ---
# N8N管理者認証情報
N8N_USER=admin
N8N_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# N8N暗号化キー（32文字のランダム文字列）
N8N_ENCRYPTION_KEY=CHANGE_ME_32_RANDOM_CHARACTERS_HERE

# N8Nベースurl
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=${N8N_USER}
N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD}

# --- OpenNotebook Configuration ---
OPENNOTEBOOK_API_KEY=CHANGE_ME_TO_YOUR_API_KEY

# --- SMTP Settings (Gmail for email sending) ---
# Gmail App Password (2FAを有効化後、https://myaccount.google.com/apppasswords で生成)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-gmail-app-password

# --- Substack Publishing API ---
# Substackアカウント認証情報（Cookie認証を推奨）
# 方法1: Cookie認証（CAPTCHA回避、推奨）
# 1. SubstackにブラウザでログインSubstack
# 2. F12 → Network → 任意のリクエスト → Copy as Node.js fetch
# 3. Cookie: の値全体をコピー
SUBSTACK_COOKIES=connect.sid=your_cookie_value_here

# 方法2: メール/パスワード認証（CAPTCHA発生の可能性あり）
SUBSTACK_EMAIL=your-email@example.com
SUBSTACK_PASSWORD=your-substack-password

# パブリケーションURL（必須）
SUBSTACK_PUBLICATION_URL=https://yourpublication.substack.com

# --- X (Twitter) API Settings ---
# X Developer Portal (https://developer.x.com/) で取得
# OAuth 1.0a 認証（投稿権限あり）
# 取得手順:
# 1. X Developer Portal → Apps → 作成したアプリを選択
# 2. Keys and tokens → Consumer Keys を再生成（表示された瞬間にコピー）
# 3. Access Token and Secret → 生成（Write権限を確認）
TWITTER_API_KEY=CHANGE_ME_TO_YOUR_CONSUMER_KEY
TWITTER_API_SECRET=CHANGE_ME_TO_YOUR_CONSUMER_SECRET
TWITTER_ACCESS_TOKEN=CHANGE_ME_TO_YOUR_ACCESS_TOKEN
TWITTER_ACCESS_SECRET=CHANGE_ME_TO_YOUR_ACCESS_SECRET

# --- Application Settings ---
# アプリケーション環境
NODE_ENV=production
LOG_LEVEL=info

# セッションシークレット（強力なランダム文字列）
SESSION_SECRET=CHANGE_ME_TO_RANDOM_64_CHARACTER_STRING

# JWT設定（トークン認証を使用する場合）
JWT_SECRET=CHANGE_ME_TO_RANDOM_64_CHARACTER_STRING
JWT_EXPIRES_IN=24h

# --- Security Settings ---
# CORS設定
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com

# レート制限設定
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# セキュリティヘッダー
ENABLE_HELMET=true
ENABLE_CORS=true

# --- Nginx / Reverse Proxy Settings ---
# ドメイン名（SSL証明書用）
DOMAIN_NAME=yourdomain.com
DOMAIN_WWW=www.yourdomain.com

# Let's Encrypt Email
LETSENCRYPT_EMAIL=admin@yourdomain.com

# --- Monitoring & Logging ---
# ログ保存先
LOG_DIR=/var/log/openclaw

# Sentryエラートラッキング（オプション）
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# --- Backup Settings ---
# バックアップ保存先
BACKUP_DIR=/opt/backups/openclaw
BACKUP_RETENTION_DAYS=30

# S3バックアップ（オプション）
# AWS_ACCESS_KEY_ID=CHANGE_ME
# AWS_SECRET_ACCESS_KEY=CHANGE_ME
# AWS_S3_BUCKET=your-backup-bucket
# AWS_REGION=ap-northeast-1

# --- Docker Settings ---
# タイムゾーン
TZ=Asia/Tokyo

# コンテナUID/GID（非rootユーザー）
UID=1000
GID=1000

# --- Development Settings (開発環境のみ) ---
# DEBUG=false
# VERBOSE_LOGGING=false

